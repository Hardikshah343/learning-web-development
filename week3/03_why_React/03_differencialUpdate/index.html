<!DOCTYPE html>
<html>
    <body>
        <input type="text" id="title" placeholder="Todo title"><br /><br />
        <input type="text" id="description" placeholder="Todo description"><br /><br />
        <button onclick="addTodo()">Add Todo</button> <br /><br />
        <div id="todos"></div>
    </body>
    <script>
        let globalId = 1;
        let todoState = [];
        let oldTodoState = [];

        function addTodod() {
            // big function we wrote in the beginning
        }

        function removeTodo(todo) {
            const element = document.getElementById(todo.id);
            elemenet.parent.removeChild(element);
        }
        function updateTodo(oldTodo, newTodo) {
            const element = document.getElementById(oldTodo.id);
            element.children[0].innerHTML = newTodo.title;
            element.children[1].innerHTML = newTodo.description;
            element.children[2].innerHTML = newTodo.completed ? "Mark as done" : "Done";
        }

        function updateState(newTodos) {
            /*
            Calculate the diff b/w newnodes and oldnodes.
            More specifically, find out what todos are
            1. added
            2. deleted
            3. updated
            */
            const added = [];
            const deleted = [];
            const updated = [];
            /*
            Calculate these 3 arrays
            Call addTodo, removeTodo, updateTodo function on each of the element
            */
            oldTodoState = newTodos;
        }
        function addTodo() {
            const title = document.getElementById("title").value;
            const description = document.getElementById("description").value;
            todoState.push({
                title: title,
                description: description,
                id: globalId++
            })
            updateState(todoState);
        }
    </script>    
</html>